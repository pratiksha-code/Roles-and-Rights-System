<!DOCTYPE html>
<html lang="en">

<head>
    <% include ../Partials/head.ejs %>
</head>

<body id="page-top" ng-app="manageTestApp" ng-controller="manageTestAppCtrlr"
      ng-init="initController(<%- TestID %>, <%- NoOfQuestions %>, '<%- TestName %>')">
<div id="wrapper">
    <!-- Sidebar -->
    <% include ../Partials/sidebar.ejs %>
    <!--End Sidebar -->
    <div id="content-wrapper" class="d-flex flex-column">
        <div id="content">
            <!-- TopBar -->
            <% include ../Partials/navbar.ejs %>
            <!-- Topbar -->
            <!-- Container Fluid-->
            <div class="container-fluid" id="container-wrapper">
                <form name="testForm" class="bg-gradient-light p-4" id="testForm">
                    <div class="col-12">
                        <h4 class="text-primary float-left">Test Name: {{data.TestName}}</h4>
                        <h4 class="text-primary float-right">No. Of Questions: {{data.NoOfQuestions}}</h4>
                    </div>

                    <div class="col-12 mt-5">
                        <div class="alert alert-danger alert-dismissible" role="alert"
                             ng-repeat="message in errorMessages">
                            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                <span aria-hidden="true">Ã—</span>
                            </button>
                            {{message}}
                        </div>
                    </div>
                    <hr>
                    <div class="row mt-3" ng-repeat="question in data.Questions track by $index">
                        <!--<input type="number" ng-model="data.Questions[$index].QuestionNumber" value="{{$index+1}}">-->
                        <h6 class="mx-auto text-danger">Question No. : {{$index+1}}</h6>
                        <div class="form-group col-12">
                            <label>Question</label>
                            <input type="text" class="form-control" name="Question{{$index}}"
                                   ng-model="data.Questions[$index].Question"
                                   placeholder="Question {{$index+1}}" ng-value="Never" required>
                            <div ng-messages="testForm['Question'+$index].$error" style="color:red"
                                 ng-if="testForm['Question'+$index].$touched"
                                 role="alert">
                                <div ng-message="required">Please Enter Question {{$index+1}}</div>
                            </div>
                        </div>
                    </div>
                        <div class="form-group col-md-12" ng-repeat="option in data.Options track by $index">

                            <label>Option A</label>
                            <input type="text" class="form-control" name="Option{{$index}}"
                                   ng-model="data.Options[$index].Option"
                                   placeholder="Option{{$index+1}}" ng-value="Never" required>
                            <div ng-messages="testForm['Option'+$index].$error" style="color:red"
                                 ng-if="testForm['Option'+$index].$touched"
                                 role="alert">
                                <div ng-message="required">Please Enter Option {{$index+1}}</div>

                            </div>


                            <label>Option B</label>
                            <input type="text" class="form-control" name="Option{{$index+1}}"
                               ng-model="data.Options[$index].Optionb"
                               placeholder="Option{{$index+1}}" ng-value="Never" required>
                            <div ng-messages="testForm['Option'+$index].$error" style="color:red"
                                ng-if="testForm['Option'+$index].$touched"
                            role="alert">
                                <div ng-message="required">Please Enter Option{{$index+1}}</div>
                            </div>

                            <label>Option C</label>
                            <input type="text" class="form-control" name="Option{{$index+1}}"
                                   ng-model="data.Options[$index].Optionc"
                                   placeholder="Option{{$index+1}}" ng-value="Never" required>
                            <div ng-messages="testForm['Option'+$index].$error" style="color:red"
                                 ng-if="testForm['Option'+$index].$touched"
                                 role="alert">
                                <div ng-message="required">Please Enter Option{{$index+1}}</div>
                            </div>

                            <label>Option D</label>
                            <input type="text" class="form-control" name="Option{{$index+1}}"
                                   ng-model="data.Options[$index].Optiond"
                                   placeholder="Option{{$index+1}}" ng-value="Never" required>
                            <div ng-messages="testForm['Option'+$index].$error" style="color:red"
                                 ng-if="testForm['Option'+$index].$touched"
                                 role="alert">
                                <div ng-message="required">Please Enter Option{{$index+1}}</div>
                            </div>


                            </div>



                        <!--<div class="form-group col-6">-->
                        <!--<label>Department</label>-->
                        <!--<select class="form-control" ng-model="data.DepartmentID" name="DepartmentID"-->
                        <!--id="DepartmentID"-->
                        <!--ng-options="dept.DepartmentID as dept.DepartmentName for dept in departments">-->
                        <!--<option value="" disabled>-&#45;&#45;Select Department-&#45;&#45;</option>-->

                        <!--</select>-->
                        <!--<div ng-messages="testForm.DepartmentID.$error" style="color:red"-->
                        <!--ng-if="testForm.DepartmentID.$touched"-->
                        <!--role="alert">-->
                        <!--<div ng-message="required">Please Select Department</div>-->
                        <!--</div>-->
                        <!--</div>-->

                    <div class="form-group col   text-center">
                        <button class="btn btn-primary" ng-disabled="!testForm.$valid" ng-click="createTest()">
                            Create Test
                        </button>
                    </div>
                </div>
                </form>
            </div>
        </div>
        <!---End Of Container Fluid-->
        <!-- Footer -->
        <!-- Footer -->
    </div>
</div>
<!-- Scroll to top -->
<a class="scroll-to-top rounded" href="#page-top">
    <i class="fas fa-angle-up"></i>
</a>
<% include ../Partials/bodyScriptLoader.ejs %>

<script>
    <% include ng-app.js %>
</script>
</body>

</html>